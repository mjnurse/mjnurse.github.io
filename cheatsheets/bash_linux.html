<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Bash / Linux Cheatsheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/fa62c117c7.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/lunr/lunr.js"></script>
    <link rel="stylesheet" href="/static/styles.css" />
    <link rel="stylesheet" href="/static/syntax.css" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <title>Bash / Linux Cheatsheet</title>
  </head>
  <body class="light" id="top">
    <header class="header center">
      <h3>
        <a href="/" class="link">MjN</a>
      </h3>

      <nav class="nav center">
        <ul class="nav__list center">
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/blog/" data-shortcut="b"><strong>b</strong>log</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/cheatsheets/" data-shortcut="c"><strong>c</strong>heatsheets</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/elasticsearch/" data-shortcut="e"><strong>e</strong>lasticsearch</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/js/" data-shortcut="j"><strong>j</strong>s</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/linuxbash/" data-shortcut="l"><strong>l</strong>inuxbash</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/misc/" data-shortcut="m"><strong>m</strong>isc</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/notes/" data-shortcut="n"><strong>n</strong>otes</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/other/" data-shortcut="o"><strong>o</strong>ther</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/python/" data-shortcut="p"><strong>p</strong>ython</a>
          </li>
          
        </ul>

        <button type="button" aria-label="search" id="searchBtn" class="btn btn--icon">
          <i aria-hidden="true" class="fas fa-search"></i>
        </button>

        <button type="button" aria-label="toggle theme" class="btn btn--icon">
          <i aria-hidden="true" id="btn-theme" class="fas fa-moon"></i>
        </button>

        <button
          type="button"
          aria-label="toggle navigation"
          class="btn btn--icon nav__hamburger"
        >
          <i aria-hidden="true" class="fas fa-bars"></i>
        </button>
      </nav>
    </header>

    <main>
      <article class="article">
        <div class="article-body">
          <h1><a href="#" data-clipboard="code ~/mjnurse/mjnurse-website/cheatsheets/Bash_Linux.md">Bash / Linux Cheatsheet</a></h1>
<div class="table-of-contents">
<h2>Contents</h2>
<ul>
<li><a href="#bash">BASH</a></li>
<li class="toc-h2"><a href="#variables">Variables</a></li>
<li class="toc-h2"><a href="#arrays">Arrays</a></li>
<li class="toc-h2"><a href="#files">Files</a></li>
<li class="toc-h2"><a href="#if-then-else-case">IF THEN ELSE, CASE</a></li>
<li class="toc-h2"><a href="#looping">Looping</a></li>
<li class="toc-h2"><a href="#functions">Functions</a></li>
<li class="toc-h2"><a href="#generate-a-random-string-password">Generate a Random String (Password)</a></li>
<li class="toc-h2"><a href="#exit-traps">Exit Traps</a></li>
<li class="toc-h2"><a href="#scripts">Scripts</a></li>
<li><a href="#linux">LINUX</a></li>
<li class="toc-h2"><a href="#system">System</a></li>
<li class="toc-h2"><a href="#hardware">Hardware</a></li>
<li class="toc-h2"><a href="#users">Users</a></li>
<li class="toc-h2"><a href="#file-commands">File Commands</a></li>
<li class="toc-h2"><a href="#diff">Diff</a></li>
<li class="toc-h2"><a href="#process">Process</a></li>
<li class="toc-h2"><a href="#file-permissions">File Permissions</a></li>
<li class="toc-h2"><a href="#network">Network</a></li>
<li class="toc-h2"><a href="#compression--archives">Compression / Archives</a></li>
<li class="toc-h2"><a href="#install-package">Install Package</a></li>
<li class="toc-h2"><a href="#search">Search</a></li>
<li class="toc-h2"><a href="#login-ssh-and-telnet">Login (SSH And TELNET)</a></li>
<li class="toc-h2"><a href="#file-transfer">File Transfer</a></li>
<li class="toc-h2"><a href="#disk-usage">Disk Usage</a></li>
<li class="toc-h2"><a href="#security">Security</a></li>
<li><a href="#useful--other">Useful / Other</a></li>
<li class="toc-h2"><a href="#tarballs">tarballs</a></li>
<li class="toc-h2"><a href="#date">date</a></li>
<li class="toc-h2"><a href="#stderr-redirect">stderr Redirect</a></li>
<li class="toc-h2"><a href="#counting-values-in-a-list">Counting Values In A List</a></li>
</ul>
</div>
<h1 id="bash">BASH</h1>
<h2 id="variables">Variables</h2>
<div class="codehilite"><pre><span></span><code><span class="si">${#</span><span class="nv">var</span><span class="si">}</span><span class="w">                </span><span class="c1"># var length.</span>
<span class="si">${</span><span class="nv">var</span><span class="k">:-</span><span class="nv">default</span><span class="si">}</span><span class="w">        </span><span class="c1"># If missing use default.</span>
<span class="si">${</span><span class="nv">var</span><span class="p">:</span><span class="nv">0</span><span class="p">:</span><span class="nv">4</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">var</span><span class="p">:(-3)</span><span class="si">}</span><span class="w"> </span><span class="c1"># Substr if -n then take from end (need brackets as :- sets default)</span>
<span class="si">${</span><span class="nv">var</span><span class="p">/hello/bye</span><span class="si">}</span><span class="w">       </span><span class="c1"># Search/replace</span>
<span class="si">${</span><span class="nv">var</span><span class="p">//hello/bye</span><span class="si">}</span><span class="w">      </span><span class="c1"># Search/replace all</span>
<span class="nv">$s</span><span class="w"> </span><span class="si">${</span><span class="nv">s</span><span class="p">^</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">s</span><span class="p">^^</span><span class="si">}</span><span class="w">        </span><span class="c1"># Change case - hello Hello HELLO.  (uppercase)</span>
<span class="nv">$s</span><span class="w"> </span><span class="si">${</span><span class="nv">s</span><span class="p">,</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">s</span><span class="p">,,</span><span class="si">}</span><span class="w">        </span><span class="c1"># Change case - HELLO hELLO hello.  (lowercase)</span>
<span class="si">${</span><span class="nv">var</span><span class="p">##*str</span><span class="si">}</span><span class="w">           </span><span class="c1"># Left Trim - trim up to and inc this string.</span>
<span class="si">${</span><span class="nv">var</span><span class="p">%%str*</span><span class="si">}</span><span class="w">           </span><span class="c1"># Right Trim - trim from and inc this string.</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="nv">$RANDOM</span><span class="w">                </span><span class="c1"># eg echo $((RANDOM%100)).</span>
<span class="nv">$?</span><span class="w">                     </span><span class="c1"># Last command exit status.</span>
<span class="si">${</span><span class="nv">var</span><span class="p">//[</span><span class="s1">$&#39;\n\r&#39;</span><span class="p">]</span><span class="si">}</span><span class="w">      </span><span class="c1"># Strip newlines from var.</span>
</code></pre></div>

<h3 id="indirect-variable-references">Indirect variable references</h3>
<div class="codehilite"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">varname</span><span class="o">=</span>size<span class="p">;</span><span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">size</span><span class="o">=</span><span class="m">100</span><span class="p">;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">varname</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="p">!varname</span><span class="si">}</span><span class="w"> </span><span class="c1"># Yields: size 100</span>
</code></pre></div>

<h3 id="setting-session-path-to-include-current-directory">Setting session path to include current directory</h3>
<div class="codehilite"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:.
</code></pre></div>

<hr />
<h2 id="arrays">Arrays</h2>
<div class="codehilite"><pre><span></span><code><span class="nb">declare</span><span class="w"> </span>-a<span class="w"> </span><span class="nv">arr</span><span class="o">=(</span><span class="s2">&quot;Martin&quot;</span><span class="w"> </span><span class="s2">&quot;is&quot;</span><span class="w"> </span><span class="s2">&quot;cool&quot;</span><span class="o">)</span>

<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">arr</span><span class="p">[@]</span><span class="si">}</span><span class="w">  </span><span class="c1"># Yields: Martin, is, cool</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">arr</span><span class="p">[1]</span><span class="si">}</span><span class="w">  </span><span class="c1"># Yields: is,</span>

arr<span class="o">[</span><span class="m">10</span><span class="o">]=</span><span class="s2">&quot;ace&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">arr</span><span class="p">[@]</span><span class="si">}</span><span class="w">   </span><span class="c1"># Yields: Martin is cool ace</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">arr</span><span class="p">[3]</span><span class="si">}</span><span class="w">   </span><span class="c1"># Yields nothing</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">arr</span><span class="p">[10]</span><span class="si">}</span><span class="w">  </span><span class="c1"># Yields: ace</span>
</code></pre></div>

<hr />
<h2 id="files">Files</h2>
<div class="codehilite"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>-f<span class="w"> </span><span class="nv">$filename</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s2">&quot;echo </span><span class="nv">$filename</span><span class="s2"> exists&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">fi</span>

Check<span class="w"> </span><span class="k">for</span><span class="w"> </span>files:<span class="w"> </span><span class="o">[</span><span class="w"> </span>-&lt;see<span class="w"> </span>below&gt;<span class="w"> </span><span class="s2">&quot;&lt;filename&gt;&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="c1"># Check for files.</span>

<span class="c1">#   -d dirname    - Check for directory Existence.</span>
<span class="c1">#   -e filename   - Check for file existence, regardless of type.</span>
<span class="c1">#   -f filename   - Check for regular file existence not a directory.</span>
<span class="c1">#   -r filename   - Check if file is readable.</span>
<span class="c1">#   -s filename   - Check if file is nonzero size.</span>
<span class="c1">#   -w filename   - Check if file is writable.</span>
<span class="c1">#   -x filename   - Check if file is executable.</span>
</code></pre></div>

<hr />
<h2 id="if-then-else-case">IF THEN ELSE, CASE</h2>
<div class="codehilite"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;-a&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">   </span><span class="nb">echo</span><span class="w"> </span>great!
<span class="k">fi</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="k">case</span><span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="k">in</span>
<span class="w">   </span><span class="o">[</span><span class="m">1</span>-3<span class="o">])</span><span class="w">      </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;matches 1 to 3&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">   </span><span class="o">[</span><span class="m">4</span>-6<span class="o">]</span>*<span class="o">)</span><span class="w">     </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;matches 4 to 6 followed by any thing&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">   </span><span class="m">1</span><span class="o">[</span><span class="m">0</span>-5<span class="o">]</span>*<span class="o">)</span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;matches 1 followed by 0 to 5&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">   </span>*<span class="o">[</span><span class="m">8</span>-9<span class="o">])</span><span class="w">     </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;matches anything ending 8 to 9&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">   </span>*ing<span class="o">)</span><span class="w">       </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;matches string ending ing&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">   </span>-h<span class="p">|</span>--help<span class="o">)</span><span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;matches -h or --help&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">   </span>?*<span class="o">)</span><span class="w">         </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;matches anything except nothing&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">   </span>*<span class="o">)</span><span class="w">          </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;matches anything including nothing&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="k">esac</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="o">[[</span><span class="w"> </span><span class="nv">$var</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>.*hello.*<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="c1"># Regexp match.</span>
</code></pre></div>

<hr />
<h2 id="looping">Looping</h2>
<h3 id="infinite-loop">Infinite loop</h3>
<div class="codehilite"><pre><span></span><code><span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;infinite loop&#39;</span><span class="p">;</span>
<span class="k">done</span>
</code></pre></div>

<h3 id="numeric-loop">Numeric Loop</h3>
<div class="codehilite"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="o">((</span><span class="nv">i</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span>i&lt;<span class="w"> </span><span class="m">10</span><span class="p">;</span><span class="w"> </span>i++<span class="o">))</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$1</span>
<span class="k">done</span>

<span class="c1"># Using seq.  seq &lt;start value&gt; [&lt;step&gt;] &lt;end value&gt;</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>seq<span class="w"> </span><span class="m">10</span><span class="w"> </span>-2<span class="w"> </span><span class="m">2</span><span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span>
<span class="k">done</span>
</code></pre></div>

<h3 id="loop-through-files">Loop Through Files</h3>
<div class="codehilite"><pre><span></span><code><span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.txt<span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$f</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
<span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>find<span class="w"> </span>.<span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>vi<span class="w"> </span>file:<span class="w"> </span><span class="nv">$f</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</code></pre></div>

<h3 id="loop-through-dates">Loop Through Dates</h3>
<div class="codehilite"><pre><span></span><code><span class="nv">start_date</span><span class="o">=</span><span class="s2">&quot;2015-01-27&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">end_date</span><span class="o">=</span><span class="s2">&quot;2015-02-02&quot;</span>
<span class="nv">d</span><span class="o">=</span><span class="nv">$start_date</span>
<span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span><span class="w"> </span>&lt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$end_date</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$end_date</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">   </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$d</span>
<span class="w">   </span><span class="nv">d</span><span class="o">=</span><span class="k">$(</span>date<span class="w"> </span>-I<span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$d</span><span class="s2"> + 1 day&quot;</span><span class="k">)</span>
<span class="k">done</span>
</code></pre></div>

<h3 id="process-file-line-by-line">Process File Line By Line</h3>
<div class="codehilite"><pre><span></span><code><span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span>filename
</code></pre></div>

<hr />
<h2 id="functions">Functions</h2>
<div class="codehilite"><pre><span></span><code><span class="k">function</span><span class="w"> </span>check_params<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">   </span><span class="c1"># param 1 - actual number of parameters</span>
<span class="w">   </span><span class="c1"># param 2 - required number of parameters</span>
<span class="w">   </span><span class="c1"># param 3 - incorrect parameters message</span>

<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span>
<span class="w">      </span><span class="nb">exit</span>
<span class="w">   </span><span class="k">fi</span>
<span class="o">}</span>

check_params<span class="w"> </span><span class="c1">#$ 2 &quot;Usage: this_script &lt;username&gt;&quot;</span>

<span class="c1"># Parameter / Variable Validation</span>
<span class="k">if</span><span class="w"> </span>!<span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$sleep_sec</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="o">[</span><span class="m">0</span>-9<span class="o">]</span>+$<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">   </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: Sleep seconds: \&quot;</span><span class="nv">$sleep_sec</span><span class="s2">\&quot; is not a number&quot;</span>
<span class="w">   </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>
</code></pre></div>

<hr />
<h2 id="generate-a-random-string-password">Generate a Random String (Password)</h2>
<div class="codehilite"><pre><span></span><code><span class="c1"># openssl generate strings in lengths of multiple of 4 (starting position 0) so need to trim</span>
<span class="c1"># 10 character string.</span>
openssl<span class="w"> </span>rand<span class="w"> </span>-base64<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-c<span class="w"> </span>-10
</code></pre></div>

<hr />
<h2 id="exit-traps">Exit Traps</h2>
<p>Run a command when a script exists for any reason.</p>
<p>Example script <code>example.sh</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="ch">#!/bin/bash</span>

tmp-dir<span class="o">=</span><span class="k">$(</span>mkdir<span class="w"> </span>/tmp/test<span class="k">)</span>

<span class="k">function</span><span class="w"> </span>cleanup<span class="w"> </span><span class="o">{</span>
<span class="w">  </span>rm<span class="w"> </span>-rf<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tmp</span><span class="s2">-dir&quot;</span>
<span class="o">}</span>

<span class="nb">trap</span><span class="w"> </span>cleanup<span class="w"> </span>EXIT

<span class="c1"># The rest of the scripts</span>
</code></pre></div>

<hr />
<h2 id="scripts">Scripts</h2>
<div class="codehilite"><pre><span></span><code><span class="c1"># Process command line parameters</span>

<span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">   </span><span class="k">case</span><span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="k">in</span>
<span class="w">      </span>-l<span class="o">)</span><span class="w"> </span><span class="nv">list_only</span><span class="o">=</span>Y<span class="w"> </span><span class="p">;;</span>
<span class="w">      </span>-d<span class="o">)</span><span class="w"> </span><span class="nb">shift</span>
<span class="w">          </span><span class="nv">run_date</span><span class="o">=</span><span class="nv">$1</span><span class="w"> </span><span class="p">;;</span>
<span class="w">      </span>*<span class="o">)</span><span class="w">  </span><span class="nv">db</span><span class="o">=</span><span class="nv">$1</span><span class="w"> </span><span class="p">;;</span>
<span class="w">   </span><span class="k">esac</span>
<span class="w">   </span><span class="nb">shift</span>
<span class="k">done</span>
</code></pre></div>

<hr />
<h1 id="linux">LINUX</h1>
<h2 id="system">System</h2>
<div class="codehilite"><pre><span></span><code>uname<span class="w"> </span>-a<span class="w">     </span><span class="c1"># Display linux system information </span>
uname<span class="w"> </span>-r<span class="w">     </span><span class="c1"># Display kernel release information </span>
uptime<span class="w">       </span><span class="c1"># Show how long the system has been running + load </span>
hostname<span class="w">     </span><span class="c1"># Show system host name </span>
hostname<span class="w"> </span>-i<span class="w">  </span><span class="c1"># Display the IP address of the host </span>
last<span class="w"> </span>reboot<span class="w">  </span><span class="c1"># Show system reboot history </span>
cal<span class="w">          </span><span class="c1"># Show this month calendar </span>
w<span class="w">            </span><span class="c1"># Display who is online </span>
whoami<span class="w">       </span><span class="c1"># Who you are logged in as </span>
finger<span class="w"> </span>user<span class="w">  </span><span class="c1"># Display information about user </span>
</code></pre></div>

<hr />
<h2 id="hardware">Hardware</h2>
<div class="codehilite"><pre><span></span><code>dmesg<span class="w">                  </span><span class="c1"># Detected hardware and boot messages</span>
cat<span class="w"> </span>/proc/cpuinfo<span class="w">      </span><span class="c1"># CPU model</span>
cat<span class="w"> </span>/proc/meminfo<span class="w">      </span><span class="c1"># Hardware memory</span>
cat<span class="w"> </span>/proc/interrupts<span class="w">   </span><span class="c1"># Lists the number of interrupts per CPU per I/O device</span>
lshw<span class="w">                   </span><span class="c1"># Displays information on hardware configuration</span>
lsblk<span class="w">                  </span><span class="c1"># Displays block device related information in Linux</span>
free<span class="w"> </span>-m<span class="w">                </span><span class="c1"># Used and free memory (-m for MB)</span>
lspci<span class="w"> </span>-tv<span class="w">              </span><span class="c1"># Show PCI devices</span>
lsusb<span class="w"> </span>-tv<span class="w">              </span><span class="c1"># Show USB devices</span>
dmidecode<span class="w">              </span><span class="c1"># Show hardware info from the BIOS</span>
hdparm<span class="w"> </span>-i<span class="w"> </span>/dev/sda<span class="w">     </span><span class="c1"># Show info about disk sda</span>
hdparm<span class="w"> </span>-tT<span class="w"> </span>/dev/sda<span class="w">    </span><span class="c1"># Do a read speed test on disk sda</span>
badblocks<span class="w"> </span>-s<span class="w"> </span>/dev/sda<span class="w">  </span><span class="c1"># Test for unreadable blocks on disk sda</span>
</code></pre></div>

<hr />
<h2 id="users">Users</h2>
<div class="codehilite"><pre><span></span><code>id<span class="w">                                     </span><span class="c1"># Show the active user id with login and group</span>
last<span class="w">                                   </span><span class="c1"># Show last logins on the system</span>
who<span class="w">                                    </span><span class="c1"># Show who is logged on the system</span>
groupadd<span class="w"> </span>admin<span class="w">                         </span><span class="c1"># Add group &quot;admin&quot;</span>
useradd<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;Sam Tosh&quot;</span><span class="w"> </span>-g<span class="w"> </span>admin<span class="w"> </span>-m<span class="w"> </span>sam<span class="w">  </span><span class="c1"># Create user &quot;sam&quot;</span>
userdel<span class="w"> </span>sam<span class="w">                            </span><span class="c1"># Delete user sam</span>
adduser<span class="w"> </span>sam<span class="w">                            </span><span class="c1"># Add user &quot;sam&quot;</span>
usermod<span class="w">                                </span><span class="c1"># Modify user information</span>
</code></pre></div>

<hr />
<h2 id="file-commands">File Commands</h2>
<div class="codehilite"><pre><span></span><code>cat<span class="w"> </span>&gt;<span class="w"> </span>file<span class="w">                          </span><span class="c1"># Place standard input into file</span>

cp<span class="w"> </span>-r<span class="w"> </span>dir1<span class="w"> </span>dir2<span class="w">                     </span><span class="c1"># Copy dir1 to dir2, create dir2 if it doesn&#39;t exist</span>
cp<span class="w"> </span>file1<span class="w"> </span>file2<span class="w">                      </span><span class="c1"># Copy file1 to file2</span>

gpg<span class="w"> </span>-c<span class="w"> </span>file<span class="w">                         </span><span class="c1"># Encrypt file</span>
gpg<span class="w"> </span>file.gpg<span class="w">                        </span><span class="c1"># Decrypt file</span>

head<span class="w"> </span>file<span class="w">                           </span><span class="c1"># Output first 10 lines of file</span>

ln<span class="w"> </span>-s<span class="w"> </span>/path/to/file-name<span class="w"> </span>link-name<span class="w">  </span><span class="c1"># Create symbolic link to file-name</span>

ls<span class="w"> </span>-al<span class="w">                              </span><span class="c1"># Display all information about files/ directories</span>

mkdir<span class="w"> </span>dir-name<span class="w">                      </span><span class="c1"># Create a directory</span>

more<span class="w"> </span>file<span class="w">                           </span><span class="c1"># Output contents of file</span>

mv<span class="w"> </span>file1<span class="w"> </span>file2<span class="w">                      </span><span class="c1"># Rename source to dest / move source to directory</span>

<span class="nb">pwd</span><span class="w">                                 </span><span class="c1"># Show the path of current directory</span>

rm<span class="w"> </span>-f<span class="w"> </span>file-name<span class="w">                     </span><span class="c1"># Forcefully remove file</span>
rm<span class="w"> </span>-r<span class="w"> </span>dir-nam<span class="w">                       </span><span class="c1"># Delete directory recursively</span>
rm<span class="w"> </span>file-name<span class="w">                        </span><span class="c1"># Delete file</span>

tail<span class="w"> </span>-f<span class="w"> </span>file<span class="w">                        </span><span class="c1"># Output contents of file as it grows</span>
tail<span class="w"> </span>file<span class="w">                           </span><span class="c1"># Output last 10 lines of file</span>

touch<span class="w"> </span>file<span class="w">                          </span><span class="c1"># Create or update file</span>

wc<span class="w">                                  </span><span class="c1"># print the number of bytes, words, and lines in files</span>

xargs<span class="w">                               </span><span class="c1"># Execute command lines from standard input</span>
</code></pre></div>

<hr />
<h2 id="diff">Diff</h2>
<div class="codehilite"><pre><span></span><code>&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;aaa\\nbbb&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>a<span class="p">;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;bbb\\nccc&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>b<span class="p">;</span><span class="w"> </span>diff<span class="w"> </span>a<span class="w"> </span>b
1d0
&lt;<span class="w"> </span>aaa
2a2
&gt;<span class="w"> </span>ccc
<span class="c1"># To change a into b, remove line with aaa and add line with ccc.</span>
</code></pre></div>

<hr />
<h2 id="process">Process</h2>
<div class="codehilite"><pre><span></span><code>ps<span class="w">                      </span><span class="c1"># Display your currently active processes</span>
ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s1">&#39;telnet&#39;</span><span class="w">  </span><span class="c1"># Find all process id related to telnet process</span>
pmap<span class="w">                    </span><span class="c1"># Memory map of process</span>
top<span class="w">                     </span><span class="c1"># Display all running processes</span>
<span class="nb">kill</span><span class="w"> </span>pid<span class="w">                </span><span class="c1"># Kill process with mentioned pid id</span>
killall<span class="w"> </span>proc<span class="w">            </span><span class="c1"># Kill all processes named proc</span>
pkill<span class="w"> </span>process-name<span class="w">      </span><span class="c1"># Send signal to a process with its name</span>
<span class="nb">bg</span><span class="w">                      </span><span class="c1"># Resumes suspended jobs without bringing them to</span>
foreground<span class="w"> </span><span class="nb">fg</span><span class="w">           </span><span class="c1"># Brings the most recent job to foreground</span>
<span class="nb">fg</span><span class="w"> </span>n<span class="w">                    </span><span class="c1"># Brings job n to the foreground:$</span>
</code></pre></div>

<hr />
<h2 id="file-permissions">File Permissions</h2>
<div class="codehilite"><pre><span></span><code>chmod<span class="w"> </span>octal<span class="w"> </span>file-name<span class="w">                 </span><span class="c1"># Change the permissions of file to octal</span>
chmod<span class="w"> </span><span class="m">777</span><span class="w"> </span>/data/test.c<span class="w">                </span><span class="c1"># Set rwx permission for owner,group,world</span>
chmod<span class="w"> </span><span class="m">755</span><span class="w"> </span>/data/test.c<span class="w">                </span><span class="c1"># Set rwx permission for owner,rx for group and world</span>
chown<span class="w"> </span>owner-user<span class="w"> </span>file<span class="w">                 </span><span class="c1"># Change owner of the file or directory</span>
chown<span class="w"> </span>owner-user:owner-group<span class="w"> </span>filename<span class="w"> </span><span class="c1"># Change owner and group owner of the file</span>
</code></pre></div>

<hr />
<h2 id="network">Network</h2>
<div class="codehilite"><pre><span></span><code>ip<span class="w"> </span>addr<span class="w"> </span>show<span class="w">                         </span><span class="c1"># Display all network interfaces and ip address</span>
ip<span class="w"> </span>address<span class="w"> </span>add<span class="w"> </span><span class="m">192</span>.168.0.1<span class="w"> </span>dev<span class="w"> </span>eth0<span class="w">  </span><span class="c1"># Set ip address</span>
ethtool<span class="w"> </span>eth0<span class="w">                         </span><span class="c1"># Linux tool to show ethernet status</span>
mii-tool<span class="w"> </span>eth0<span class="w">                        </span><span class="c1"># Linux tool to show ethernet status</span>
ping<span class="w"> </span>host<span class="w">                            </span><span class="c1"># Send echo request to test connection</span>
whois<span class="w"> </span>domain<span class="w">                         </span><span class="c1"># Get who is information for domain</span>
dig<span class="w"> </span>domain<span class="w">                           </span><span class="c1"># Get DNS information for domain</span>
dig<span class="w"> </span>-x<span class="w"> </span>host<span class="w">                          </span><span class="c1"># Reverse lookup host</span>
host<span class="w"> </span>google.com<span class="w">                      </span><span class="c1"># Lookup DNS ip address for the name</span>
hostname<span class="w"> </span>ip<span class="w">                          </span><span class="c1"># Lookup local ip address</span>
wget<span class="w"> </span>file<span class="w">                            </span><span class="c1"># Download file</span>
netstat<span class="w"> </span>-tupl<span class="w">                        </span><span class="c1"># Listing all active listening ports</span>
</code></pre></div>

<hr />
<h2 id="compression-archives">Compression / Archives</h2>
<div class="codehilite"><pre><span></span><code>tar<span class="w"> </span>cf<span class="w"> </span>home.tar<span class="w"> </span>home<span class="w">       </span><span class="c1"># Create tar named home.tar containing home</span>
tar<span class="w"> </span>xf<span class="w"> </span>file.tar<span class="w">            </span><span class="c1"># Extract the files from file.tar</span>
tar<span class="w"> </span>czf<span class="w"> </span>file.tar.gz<span class="w"> </span>files<span class="w">  </span><span class="c1"># Create a tar with gzip compression</span>
gzip<span class="w"> </span>file<span class="w">                  </span><span class="c1"># Compress file and renames it to file.gz</span>
</code></pre></div>

<hr />
<h2 id="install-package">Install Package</h2>
<div class="codehilite"><pre><span></span><code>rpm<span class="w"> </span>-i<span class="w"> </span>pkgname.rpm<span class="w">  </span><span class="c1"># Install rpm based package</span>
rpm<span class="w"> </span>-e<span class="w"> </span>pkgname<span class="w">      </span><span class="c1"># Remove package</span>
</code></pre></div>

<hr />
<h2 id="search">Search</h2>
<div class="codehilite"><pre><span></span><code>grep<span class="w"> </span>pattern<span class="w"> </span>files<span class="w">            </span><span class="c1"># Search for pattern in files</span>
grep<span class="w"> </span>-r<span class="w"> </span>pattern<span class="w"> </span>dir<span class="w">           </span><span class="c1"># Search recursively for pattern in dir</span>
locate<span class="w"> </span>file<span class="w">                   </span><span class="c1"># Find all instances of file</span>
find<span class="w"> </span>/home/tom<span class="w"> </span>-name<span class="w"> </span><span class="s1">&#39;index*&#39;</span><span class="w"> </span><span class="c1"># Find files names that start with &quot;index&quot;</span>
find<span class="w"> </span>/home<span class="w"> </span>-size<span class="w"> </span>+10000k<span class="w">      </span><span class="c1"># Find files larger than 10000k in /home</span>
</code></pre></div>

<hr />
<h2 id="login-ssh-and-telnet">Login (SSH And TELNET)</h2>
<div class="codehilite"><pre><span></span><code>ssh<span class="w"> </span>user@host<span class="w">          </span><span class="c1"># Connect to host as user</span>
ssh<span class="w"> </span>-p<span class="w"> </span>port<span class="w"> </span>user@host<span class="w">  </span><span class="c1"># Connect to host using specific port</span>
telnet<span class="w"> </span>host<span class="w">            </span><span class="c1"># Connect to the system using telnet port</span>
</code></pre></div>

<hr />
<h2 id="file-transfer">File Transfer</h2>
<div class="codehilite"><pre><span></span><code>scp<span class="w"> </span>file.txt<span class="w"> </span>server2:/tmp<span class="w">      </span><span class="c1"># Secure copy file.txt to remote host /tmp folder</span>
rsync<span class="w"> </span>-a<span class="w"> </span>/home/apps<span class="w"> </span>/backup/<span class="w">   </span><span class="c1"># Synchronize source to destination</span>
</code></pre></div>

<hr />
<h2 id="disk-usage">Disk Usage</h2>
<div class="codehilite"><pre><span></span><code>df<span class="w"> </span>-h<span class="w">                          </span><span class="c1"># Show free space on mounted filesystems</span>
df<span class="w"> </span>-i<span class="w">                          </span><span class="c1"># Show free inodes on mounted filesystems</span>
fdisk<span class="w"> </span>-l<span class="w">                       </span><span class="c1"># Show disks partitions sizes and types</span>
du<span class="w"> </span>-ah<span class="w">                         </span><span class="c1"># Display disk usage in human readable form</span>
du<span class="w"> </span>-sh<span class="w">                         </span><span class="c1"># Display total disk usage on the current directory</span>
findmnt<span class="w">                        </span><span class="c1"># Displays target mount point for all filesystem</span>
mount<span class="w"> </span>device-path<span class="w"> </span>mount-point<span class="w">  </span><span class="c1"># Mount a device</span>
</code></pre></div>

<hr />
<h2 id="security">Security</h2>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>/usr/sbin/visudo<span class="w">  </span><span class="c1"># Alter sudo</span>
</code></pre></div>

<h1 id="useful-other">Useful / Other</h1>
<h2 id="tarballs">tarballs</h2>
<div class="codehilite"><pre><span></span><code>&gt;<span class="w"> </span>tar<span class="w"> </span>-cvzf<span class="w"> </span>filename<span class="w"> </span>sourcedir<span class="w"> </span><span class="c1"># Create tarball</span>
&gt;<span class="w"> </span>tar<span class="w"> </span>-xvzf<span class="w"> </span>filename<span class="w">           </span><span class="c1"># Extract tarball</span>
</code></pre></div>

<h2 id="date">date</h2>
<div class="codehilite"><pre><span></span><code>&gt;<span class="w"> </span>date<span class="w"> </span>+<span class="s1">&#39;%y%m%d-%H%M&#39;</span><span class="w">          </span><span class="c1"># yields 20180101-2301 etc.</span>
</code></pre></div>

<h2 id="stderr-redirect">stderr Redirect</h2>
<div class="codehilite"><pre><span></span><code><span class="c1"># Redirect stderr :: 2&gt;&amp;1 - redirect errors, error, linux</span>
&gt;<span class="w"> </span>myprogram<span class="w"> </span>&gt;<span class="w"> </span>log<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
</code></pre></div>

<h2 id="counting-values-in-a-list">Counting Values In A List</h2>
<div class="codehilite"><pre><span></span><code>&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;aaa</span>
<span class="s2">aaa</span>
<span class="s2">bbb</span>
<span class="s2">ccc</span>
<span class="s2">ccc</span>
<span class="s2">ccc&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>uniq<span class="w"> </span>-c

<span class="w">      </span><span class="m">2</span><span class="w"> </span>aaa
<span class="w">      </span><span class="m">1</span><span class="w"> </span>bbb
<span class="w">      </span><span class="m">3</span><span class="w"> </span>ccc
</code></pre></div>
        </div>
      </article>
    </main>

    <footer class="footer">
      <p>
        <a href="/about_me.html" class="link">About Me</a> | 
        <a href="/help.html" class="link">Help</a>
      </p>
      <p>
        <a href="https://github.com/mjnurse" target="_blank" rel="noopener noreferrer" aria-label="GitHub" class="link footer__link">
          <i aria-hidden="true" class="fab fa-github"></i>
        </a>
        <a href="https://www.linkedin.com/in/martin-nurse" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn" class="link footer__link">
          <i aria-hidden="true" class="fab fa-linkedin"></i>
        </a>
      </p>
      <p>Last updated: December 11, 2025</p>
    </footer>

    <div class="scroll-container">
      <div class="scroll-top">
        <a aria-label="Scroll up" href="#top">
          <i aria-hidden="true" class="fas fa-arrow-up"></i>
        </a>
      </div>
    </div>

    <script src="/static/page-nav.js"></script>
    <script src="/static/script.js"></script>
    <script src="/static/search.js"></script>
  </body>
</html>