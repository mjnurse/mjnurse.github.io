<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="GCP Training - Introduction and Overview" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script src="https://unpkg.com/lunr/lunr.js"></script>
    <link rel="stylesheet" href="/static/styles.css" />
    <link rel="stylesheet" href="/static/syntax.css" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <title>GCP Training - Introduction and Overview</title>
  </head>
  <body class="light" id="top">
    <header class="header center">
      <h3>
        <a href="/" class="link">MjN</a>
      </h3>

      <nav class="nav center">
        <ul class="nav__list center">
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/blog/" data-shortcut="b"><strong>b</strong>log</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/cheatsheets/" data-shortcut="c"><strong>c</strong>heatsheets</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/elasticsearch/" data-shortcut="e"><strong>e</strong>lasticsearch</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/js/" data-shortcut="j"><strong>j</strong>s</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/linuxbash/" data-shortcut="l"><strong>l</strong>inuxbash</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/misc/" data-shortcut="m"><strong>m</strong>isc</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/notes/" data-shortcut="n"><strong>n</strong>otes</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/other/" data-shortcut="o"><strong>o</strong>ther</a>
          </li>
          
          <li class="nav__list-item">
            <a class="link link--nav" href="/python/" data-shortcut="p"><strong>p</strong>ython</a>
          </li>
          
        </ul>

        <button type="button" aria-label="search" id="searchBtn" class="btn btn--icon">
          <i aria-hidden="true" class="fas fa-search"></i>
        </button>

        <button type="button" aria-label="toggle theme" class="btn btn--icon">
          <i aria-hidden="true" id="btn-theme" class="fas fa-moon"></i>
        </button>

        <button
          type="button"
          aria-label="toggle navigation"
          class="btn btn--icon nav__hamburger"
        >
          <i aria-hidden="true" class="fas fa-bars"></i>
        </button>
      </nav>
    </header>

    <main>
      <article class="article">
        <div class="article-body">
          <h1><a href="#" data-clipboard="/home/martin/mjnurse/mjnurse-website/other/gcp/GCP_Training/An_Introduction_and_Overview.md">GCP Training - Introduction and Overview</a></h1>
<div class="table-of-contents">
<h2>Contents</h2>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li class="toc-h2"><a href="#what-is-cloud-computing">What is Cloud Computing?</a></li>
<li class="toc-h2"><a href="#regions--zones">Regions / Zones</a></li>
<li class="toc-h2"><a href="#billing">Billing</a></li>
<li class="toc-h2"><a href="#multi-layered-security">Multi-Layered Security</a></li>
<li class="toc-h2"><a href="#storage-options">Storage Options</a></li>
<li><a href="#cloud-storage-gcs">Cloud Storage (GCS)</a></li>
<li class="toc-h2"><a href="#overview">Overview</a></li>
<li class="toc-h2"><a href="#storage-classes">Storage Classes</a></li>
<li class="toc-h2"><a href="#integrated-with">Integrated with</a></li>
<li><a href="#virtual-private-cloud-vpc-networks">Virtual Private Cloud (VPC) Networks</a></li>
<li class="toc-h2"><a href="#overview">Overview</a></li>
<li><a href="#managed-services">Managed Services</a></li>
<li class="toc-h2"><a href="#gcp-managed-services-for-compute">GCP Managed Services For Compute</a></li>
<li><a href="#big-query">Big Query</a></li>
<li><a href="#cloud-sql--cloud-spanner">Cloud SQL / Cloud Spanner</a></li>
<li><a href="#cloud-pubsub">Cloud PubSub</a></li>
<li><a href="#cloud-bigtable">Cloud Bigtable</a></li>
<li><a href="#cloud-dataflow">Cloud Dataflow</a></li>
<li><a href="#cloud-datalab">Cloud Datalab</a></li>
<li><a href="#cloud-datastore">Cloud Datastore</a></li>
<li><a href="#cloud-functions">Cloud Functions</a></li>
<li><a href="#cloud-machine-learning-platform">Cloud Machine Learning Platform</a></li>
<li class="toc-h2"><a href="#cloud-vision-api">Cloud Vision API</a></li>
<li class="toc-h2"><a href="#cloud-speech-api">Cloud Speech API</a></li>
<li class="toc-h2"><a href="#cloud-natural-language-api">Cloud Natural Language API</a></li>
<li class="toc-h2"><a href="#cloud-translation-api">Cloud translation API</a></li>
<li class="toc-h2"><a href="#cloud-video-intelligence-api">Cloud Video Intelligence API</a></li>
<li><a href="#app-engine">App Engine</a></li>
<li class="toc-h2"><a href="#overview">Overview</a></li>
<li class="toc-h2"><a href="#standard-environment">Standard Environment</a></li>
<li class="toc-h2"><a href="#flexible-environment">Flexible Environment</a></li>
<li class="toc-h2"><a href="#comparison">Comparison</a></li>
<li class="toc-h2"><a href="#comparison-with-kubernetes">Comparison with Kubernetes</a></li>
<li><a href="#cloud-source-repositories">Cloud Source Repositories</a></li>
<li><a href="#apigee-and-cloud-end-points">Apigee and Cloud End Points</a></li>
<li class="toc-h2"><a href="#cloud-endpoints">Cloud Endpoints</a></li>
<li class="toc-h2"><a href="#apigee-edge">Apigee Edge</a></li>
<li><a href="#identity-access-management">Identity Access Management</a></li>
<li class="toc-h2"><a href="#overview">Overview</a></li>
<li class="toc-h2"><a href="#projects">Projects</a></li>
<li class="toc-h2"><a href="#roles">Roles</a></li>
<li class="toc-h2"><a href="#service-accounts">Service Accounts</a></li>
<li><a href="#stackdriver">Stackdriver</a></li>
<li class="toc-h2"><a href="#overview">Overview</a></li>
<li class="toc-h2"><a href="#6-areas">6 Areas</a></li>
<li><a href="#deployment-manager">Deployment Manager</a></li>
<li class="toc-h2"><a href="#example">Example</a></li>
</ul>
</div>
<h1 id="introduction">Introduction</h1>
<h2 id="what-is-cloud-computing">What is Cloud Computing?</h2>
<p>5 features of Cloud Computing</p>
<ul>
<li>On demand, self service.</li>
<li>Broad network access.</li>
<li>Resource pooling.</li>
<li>Rapid elasticity.</li>
<li>Measure service (PAYG).</li>
</ul>
<p>Acronyms</p>
<ul>
<li>IaaS - Infrastructure as a service.</li>
<li>PaaS - Platform as a service.</li>
<li>SaaS - Software as a service.</li>
</ul>
<h2 id="regions-zones">Regions / Zones</h2>
<ul>
<li>Zone is a deployment area (europe-west2-a).</li>
<li>Regions contain many zones.</li>
<li>Zone -&gt; Zone &lt; 5ms latency.</li>
<li>Multi Region - stored redundantly in 2 locations &gt;= 160km apart</li>
</ul>
<h2 id="billing">Billing</h2>
<p>Discount:</p>
<ul>
<li>Sustained use (auto when used &gt; 25% a month).</li>
<li>Committed use.</li>
<li>Preemptable machines.</li>
<li>Custom VMs.</li>
</ul>
<p>Billing:</p>
<ul>
<li>Sub Hour Increments</li>
<li>Budgets and alerts</li>
<li>Billing exports</li>
<li>Reports</li>
<li>Quotas (Allocation eg &gt; 5 networks or ...)</li>
</ul>
<h2 id="multi-layered-security">Multi-Layered Security</h2>
<ul>
<li>Titan security chip.</li>
<li>Machine cryptographic signatures.</li>
<li>Disk HW encryption.</li>
<li>Google Front End - check for correct certificates etc.</li>
</ul>
<h2 id="storage-options">Storage Options</h2>
<table>
<thead>
<tr>
<th>.</th>
<th>Cloud Datastore</th>
<th>Bigtable</th>
<th>Cloud Storage</th>
<th>Cloud SQL</th>
<th>Cloud Spanner</th>
<th>BigQuery</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Type</strong></td>
<td>NoSQL Document</td>
<td>NoSQL wide column</td>
<td>Blob Store</td>
<td>Relational SQL for OLTP</td>
<td>Relational SQL for OLTP</td>
<td>Relational SQL for OLTP</td>
</tr>
<tr>
<td><strong>Transaction</strong></td>
<td>Yes</td>
<td>Single-row</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td><strong>Complex Queries</strong></td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Capacity</strong></td>
<td>TB+</td>
<td>PB+</td>
<td>PB+</td>
<td>TB</td>
<td>PB</td>
<td>PB+</td>
</tr>
<tr>
<td><strong>Unit Size (max)</strong></td>
<td>1MB/entity</td>
<td>~10MB/cell, ~100MB/row</td>
<td>5MB/object</td>
<td>Determine by DB engine</td>
<td>10,240MiB/row</td>
<td>10MB/row</td>
</tr>
<tr>
<td><strong>Best For</strong></td>
<td>Semi-struct' data, app data, durable key-value data</td>
<td>"Flat" data, Heavy r/w, events, analytical data</td>
<td>Struct' and unstruct' binary or obj; data</td>
<td>web frameworks, existing apps</td>
<td>Large-scale DB apps (&gt;~2TB)</td>
<td>Interactive querying, offline analytics</td>
</tr>
<tr>
<td><strong>Use Cases</strong></td>
<td>App Engine apps</td>
<td>AdTech, Fin' and IoT data</td>
<td>Images, media, backups</td>
<td>User cred's, customer orders</td>
<td>High I/O, global consistency</td>
<td>Data warehousing</td>
</tr>
</tbody>
</table>
<h1 id="cloud-storage-gcs">Cloud Storage (GCS)</h1>
<h2 id="overview">Overview</h2>
<ul>
<li>Binary large object storage</li>
<li>No capacity management.</li>
<li>Access via unique key (eg URL).</li>
<li>Not a file system - object can be call files.   Do not use as a file system.</li>
<li>Immutable - never edit always replace with new.</li>
<li>Organised by buckets.</li>
<li>Globally unique name.</li>
<li>Storage Class.</li>
<li>Location (region / multi region).</li>
<li>IAM policies or ACLs (Access Control Lists).</li>
<li>Object versioning setting.</li>
<li>Object lifecycle management rules (<em>eg delete obj's older than 365 days, only keep 3 versions</em>)</li>
</ul>
<h2 id="storage-classes">Storage Classes</h2>
<ul>
<li><strong>Multi-Regional</strong> - Most frequent access - avail SLA 99.95% - Content storage and delivery.</li>
<li>Two locations &gt; 160km.</li>
<li>Main cost per GB per month.</li>
</ul>
<p>.- <strong>Regional</strong> - Frequent access in a region - avail SLA 99.90% - In region analytics / transcoding.
- <strong>Nearline</strong> - Access avg. &gt; once a month - avail SLA 99.00% - backups, long tail content.
  - Cost includes per GB transferred.</p>
<ul>
<li><strong>Coldline</strong> - Access avg. &gt; once a year - avail SLA 99.00% - archiving, DR.</li>
<li>Main cost per GB transferred.</li>
<li>Min 90 days storage.</li>
</ul>
<h2 id="integrated-with">Integrated with</h2>
<ul>
<li><strong>Big Query</strong> - import and export tables.</li>
<li><strong>App engine</strong> - Object storage, logs and backups.</li>
<li><strong>Compute Engine</strong> - startup scripts, images and general objects.</li>
<li><strong>Cloud SQL</strong> - import and export tables.</li>
</ul>
<h1 id="virtual-private-cloud-vpc-networks">Virtual Private Cloud (VPC) Networks</h1>
<h2 id="overview_1">Overview</h2>
<ul>
<li>Contained within in a project.</li>
<li>Global Scope.</li>
<li>Two VMs on same network and communicate using internal IP addresses even if they are in different regions.</li>
<li>Two VMS in the same region but on different networks must use external IP addresses to communicate.  Note - this does not mean they go over the internet but to Google edge routers.</li>
<li>Subnets in regions and Subnets can span zones.  Subnet are an IP address range.</li>
<li>Have routing tables to forward traffic.</li>
<li>Have a global firewalls.</li>
<li>Have define rules based on metadata tags (eg tag all web servers as web and open all port 80 on these).</li>
<li>VPC peering - allow two VPC to share traffic.</li>
<li>Shared VPC.</li>
</ul>
<h3 id="vpc-types">VPC Types</h3>
<h4 id="default">Default</h4>
<ul>
<li>Every project.</li>
<li>One subnet per region.</li>
<li>Default firewalls.</li>
</ul>
<h4 id="auto-mode">Auto Mode</h4>
<ul>
<li>Default Networking.</li>
<li>One subnet per region.</li>
<li>Regional IP allocation.</li>
<li>Fixed /20 subnet per region.</li>
<li>In the 10.128.0.0/9 cidr block.</li>
<li>Expandable to /16.</li>
</ul>
<h4 id="customer-mode">Customer Mode</h4>
<ul>
<li>No default subnets.</li>
<li>Full control of IP ranges.</li>
<li>Regional IP allocation.</li>
<li>Expandable to any RFC 1918 size. (Note can expand without recreating, can not shrink).</li>
</ul>
<h3 id="external-ip-addresses">External IP Addresses</h3>
<p>Note: will get charged for these.</p>
<ul>
<li>External IP addresses map to internal IP addresses.</li>
<li>FQDN - Fully Qualified Domain Name.</li>
<li>External IP are unknown to the internal OS.</li>
<li>Allow access from outside the Project.</li>
</ul>
<h3 id="cloud-dns">Cloud DNS</h3>
<ul>
<li>GCP DNS translating domain names to IP addresses.</li>
</ul>
<h3 id="alias-ip-ranges">Alias IP Ranges</h3>
<ul>
<li>Can assign a range of IP addresses to a single VM.  For example multiple services or containers could each use a different IP address.</li>
</ul>
<h3 id="cloud-load-balancing">Cloud Load Balancing</h3>
<ul>
<li>Users get a single, global anycast IP address.</li>
<li>Cross region load balancing.</li>
<li>Traffic over Google backbone to closest point-of-presence.</li>
<li>Traffic route based on backend load.</li>
<li>Only healthy backends get traffic.</li>
<li>No pre-warming required.</li>
</ul>
<h3 id="5-vpc-load-balancing-options">5 VPC Load-balancing Options</h3>
<p>(For external traffic)</p>
<ol>
<li>
<p>Global HTTP(S) - Layer 7 based on load, Can route different URLS to different backends.</p>
</li>
<li>
<p>Global SSL Proxy - Layer 4 of non-HTTPS SSL based on load.  Supported on specific port numbers.</p>
</li>
<li>
<p>Global TCP Proxy - Layer 4 non-SSL TCP.  Supported on specific port numbers.</p>
</li>
<li>
<p>Regional - Any traffic (TCP, UDP). anycast port number.</p>
</li>
</ol>
<p>(For internal traffic)</p>
<ol>
<li>Regional Internal - Load balancer inside a VPC.  Use for internal tiers of multi-tier apps .  (eg between presentations and business layers).</li>
</ol>
<h3 id="cloud-dns_1">Cloud DNS</h3>
<ul>
<li>Create managed zones then add, edit, delete.</li>
<li>Programmable using API.</li>
</ul>
<h3 id="cloud-cdn-content-delivery-network">Cloud CDN (content Delivery Network)</h3>
<ul>
<li>Uses distributed edge caches to cache content close to users.</li>
<li>Can use CDN interconnect to use of CDN.</li>
</ul>
<h3 id="interconnect-options">Interconnect Options</h3>
<ul>
<li>
<p><strong>VPN</strong> - Secure multi-Gbps over VPN tunnels.</p>
</li>
<li>
<p><strong>Direct Peering</strong> - Private connection between you and Google.  (No SLA).</p>
</li>
<li>
<p><strong>Carrier Peering</strong> - Connect through largest partners network of service providers.</p>
</li>
<li>
<p><strong>Dedicated Interconnect</strong> - Connect N x 10G transport circuits at Google POPs.</p>
</li>
</ul>
<h3 id="route-and-firewall-rules">Route and Firewall Rules</h3>
<h4 id="routes">Routes</h4>
<ul>
<li>Map traffic to destination Networks.</li>
<li>Are created when a subnet is created.</li>
<li>Have Network and Instance tags.  No instance tags then all instances can use it.</li>
<li>Creates routing tables.</li>
<li>Apply to traffic egressing a VM.</li>
<li>Forward traffic to the most specific route.</li>
<li>Destination is in CIDR notation.</li>
<li>Enable VMs on the same NW to communicate.</li>
</ul>
<h4 id="firewall-rules">Firewall Rules</h4>
<ul>
<li>VPC networks functions as a distributed firewall.</li>
<li>Are applied to NW as a whole.</li>
<li>Connections allowed / disallowed and an instance level.</li>
<li>Are stateful.  Once traffic allow, subsequent traffic allowed.</li>
<li>Implied deny all ingress allow all egress even if all firewall rules deleted.</li>
</ul>
<h4 id="firewall-parameters">Firewall Parameters</h4>
<p><code>direction</code> - inbound rules matched against <strong>ingress</strong> and outbound rules matched against <strong>egress</strong></p>
<p><code>source</code> or <code>destination</code> - for ingress source can be specified with IP address's, source tags or a source service account.  For egress the destination can be specified with (see ingress).</p>
<p><code>protocol</code> and <code>port</code> - Can restrict on protocol or protocol and port.</p>
<p><code>action</code> - allow or deny packets.</p>
<p><code>priority</code> - The order the rules are evaluated until the first matching rule is found.</p>
<p><strong>Rule Assignment</strong> - rules can be assigned to all instances or specific instances.</p>
<p>With out any firewall there is an implied deny all ingress  allow all egress rule.</p>
<h4 id="gcp-firewall-use-case-egress">GCP Firewall use case: Egress</h4>
<p><strong>Conditions:</strong>
- Destination CIDR ranges.
- Protocols.
- Ports.</p>
<p><strong>Action:</strong>
- Allow: permit the matching egress connection.
- Deny: block the matching egress connection.</p>
<h4 id="gcp-firewall-use-case-ingress">GCP Firewall use case: Ingress</h4>
<p>Protect against incoming connections.</p>
<p><strong>Conditions:</strong>
- Destination CIDR ranges.
- Protocols.
- Ports.</p>
<p><strong>Action:</strong>
- Allow: permit the matching ingress connection.
- Deny: block the matching ingress connection.</p>
<h4 id="default-firewalls">Default Firewalls</h4>
<p><img alt="" src="/GCP-G/GCP_Training/images/default-firewalls.png" /></p>
<h3 id="pricing">Pricing</h3>
<p><strong>Ingress</strong> not charged unless a load balancer.</p>
<p><strong>Egress</strong> not charged where:
- To same zone (internal IP).
- To Google product (YouTube, Maps etc).
- To different GCP service (within same regions - some exceptions).</p>
<p><strong>Egress</strong> is charged:
- Between zones in the same region (per GB).
- To the same zone (external IP) (per GB).
- Between regions (per GB).</p>
<p><strong>External Ip Addresses</strong> charges (as of 2021):
- Static External IP assign but unused $0.010.
- Static and Ephemeral on standard machines $0.004.
- Static and Ephemeral on preemptible machines $0.002.
- Static and Ephemeral attatched to forwarding rules: no charge.</p>
<h1 id="managed-services">Managed Services</h1>
<p>We have:</p>
<h3 id="iaas-infrastructure-as-a-service">IaaS (Infrastructure as a Service)</h3>
<p>Cloud provides: VMs.</p>
<p>We are responsible for: Application Code and Runtime, Configuring load balancing, Auto scaling, OS upgrades and patches, Availability, etc..</p>
<h3 id="paas-platform-as-a-service">PaaS (Platform as a Service)</h3>
<p>Cloud provides: OS (incl. upgrades and patches), Application Runtime, Auto scaling, Availability &amp; Load balancing etc..</p>
<p>we are responsible for: Configuration (of Application and Services), Application code.</p>
<p>Also:</p>
<ul>
<li>CaaS (Container as a Service) - containers instead of apps.</li>
<li>FaaS (Function as a Service) - functions instead of apps.</li>
<li>Databases - Relational &amp; NoSQL (Amazon RDS, Google Cloud SQL, Azure SQL Database etc) </li>
<li>Queues, AI, ML, Operations, etc..</li>
</ul>
<h3 id="serverless">Serverless</h3>
<p>We don't need to worry about servers, OS, scaling, availability.</p>
<p>Typically pay for use - no use - no cost.</p>
<h2 id="gcp-managed-services-for-compute">GCP Managed Services For Compute</h2>
<table>
<thead>
<tr>
<th>Service</th>
<th>Details</th>
<th>Category</th>
</tr>
</thead>
<tbody>
<tr>
<td>Compute Engine</td>
<td>High-performance and general purpose VMs that scale globally.</td>
<td>IaaS</td>
</tr>
<tr>
<td>Google Kubernetes Engine</td>
<td>Orchestrate containerized microservices on Kubernetes.  Needs advanced cluster configuration and monitoring.</td>
<td>CaaS</td>
</tr>
<tr>
<td>App Engine</td>
<td>Build highly scalable applications on a fully managed platform using open and familiar languages and tools.</td>
<td>PaaS (CaaS, Serverless)</td>
</tr>
<tr>
<td>Cloud Functions</td>
<td>Build event driven applications using simple, single-purpose functions.</td>
<td>FaaS, Serverless</td>
</tr>
<tr>
<td>Cloud Run</td>
<td>Develop and deploy highly scalable containerized applications.</td>
<td>CaaS (Serverless)</td>
</tr>
</tbody>
</table>
<h1 id="big-query">Big Query</h1>
<ul>
<li>
<p>Fully managed data warehouse.</p>
</li>
<li>
<p>Petabyte scale, pay as you go model.</p>
</li>
<li>
<p>Can stream in 100,000 rows per second (11/2020).</p>
</li>
<li>
<p>Free monthly quota.</p>
</li>
<li>
<p>Can specify region data stored when creating dataset.</p>
</li>
</ul>
<h1 id="cloud-sql-cloud-spanner">Cloud SQL / Cloud Spanner</h1>
<ul>
<li>MySQL and PostgreSQL.</li>
<li>Transactional.</li>
<li>Benefits</li>
<li>Auto replication and failover.</li>
<li>Managed backups.</li>
<li>Vertical and Horizontal scaling.</li>
<li>Google security (table, temp files, backups).</li>
<li>Cloud Spanner - Peta Bytes.</li>
</ul>
<h1 id="cloud-pubsub">Cloud PubSub</h1>
<ul>
<li>Realtime event management.</li>
<li>Many to Many Async' messaging.</li>
<li>Application make push / pull subscriptions to topics.</li>
<li>Includes support for offline consumers.</li>
<li>At least once delivery (so there is a small chance message delivered twice)</li>
<li>1 million messages per second.</li>
<li>Subscriber can use push (push to them) or pull.</li>
</ul>
<h1 id="cloud-bigtable">Cloud Bigtable</h1>
<ul>
<li>Managed NoSQL, Wide Column, Sparsely Populated</li>
<li>Single lookup key</li>
<li>HBase compatible</li>
<li>Stream Data In:</li>
<li>Cloud Dataflow Streaming</li>
<li>Spark Streaming</li>
<li>Storm</li>
</ul>
<h1 id="cloud-dataflow">Cloud Dataflow</h1>
<ul>
<li>Unified programming model</li>
<li>Managed service</li>
<li>ETL.</li>
<li>Batch computation</li>
<li>Continuous computation</li>
<li>Same pipeline can run over batch and streaming data.</li>
<li>Can rebalance lagging work.</li>
</ul>
<h1 id="cloud-datalab">Cloud Datalab</h1>
<p>Built on Jupyter.  Interactive Python.</p>
<p>Runs in compute engine.</p>
<h1 id="cloud-datastore">Cloud Datastore</h1>
<ul>
<li>Horizontally scalable NoSQL DB</li>
<li>Ideal for application backends (App Engine apps)</li>
<li>Shading and replication automatically.</li>
<li>Supports Transactions.</li>
<li>Support SQL like Queries.</li>
<li>Free daily quota.</li>
<li>Can span App Engine and Compute Engine applications.</li>
</ul>
<h1 id="cloud-functions">Cloud Functions</h1>
<ul>
<li>Create single purpose function.</li>
<li>Cloud Functions can trigger on events in Cloud Storage, Cloud Pub/Sub, or in HTTP call.</li>
<li>Written in JS execute in managed Node.js env' on GCP.</li>
</ul>
<h1 id="cloud-machine-learning-platform">Cloud Machine Learning Platform</h1>
<ul>
<li>A range of machine learning APIs.</li>
<li>Structured Data:</li>
<li>Classification and regression</li>
<li>Recommendation</li>
<li>Anomaly detection</li>
<li>Unstructured Data:</li>
<li>Image and Video analytics</li>
<li>Test analytics</li>
</ul>
<h2 id="cloud-vision-api">Cloud Vision API</h2>
<ul>
<li>Logo / label / text detection.</li>
</ul>
<h2 id="cloud-speech-api">Cloud Speech API</h2>
<ul>
<li>Audio to text (80 languages)</li>
</ul>
<h2 id="cloud-natural-language-api">Cloud Natural Language API</h2>
<ul>
<li>Reveal meaning of text.</li>
<li>Extract information from news articles, blog posts etc.</li>
<li>Entity recognition - eg people, places, ...</li>
</ul>
<h2 id="cloud-translation-api">Cloud translation API</h2>
<ul>
<li>Can translate between languages.</li>
<li>Can detect the language used.</li>
</ul>
<h2 id="cloud-video-intelligence-api">Cloud Video Intelligence API</h2>
<ul>
<li>Annotate the content in videos.  Can detect entities (nouns).</li>
<li>Detect scene changes.</li>
<li>Flag inappropriate content.</li>
</ul>
<h1 id="app-engine">App Engine</h1>
<h2 id="overview_2">Overview</h2>
<ul>
<li>No need to focus in infrastructure.  PaaS.</li>
<li>Provides services such as: No SQL DB, In Memory Caching, Load Balancing, Health Checks, Logging</li>
<li>Provides auto-scaling.</li>
<li>2 types of App Engine environments: Standard' and 'Flexible'.</li>
</ul>
<h2 id="standard-environment">Standard Environment</h2>
<ul>
<li>Auto scaling.</li>
<li>Free daily Quota.</li>
<li>Runtimes for Java, Python, PHP and GO.</li>
<li>SDKs allow local development and test before promotion to App Engine.</li>
<li>Run's in a sandbox - no access to local file system.  Can write to DB.</li>
<li>60s timeout.</li>
<li>No 3rd party binaries.</li>
</ul>
<h2 id="flexible-environment">Flexible Environment</h2>
<ul>
<li>Runs App in a docker container on a compute engine.</li>
</ul>
<h2 id="comparison">Comparison</h2>
<table>
<thead>
<tr>
<th></th>
<th>Standard Environment</th>
<th>Flexible Environment</th>
</tr>
</thead>
<tbody>
<tr>
<td>Instance Startup</td>
<td>Milliseconds</td>
<td>Minutes</td>
</tr>
<tr>
<td>SSH Access</td>
<td>No</td>
<td>Yes (not default)</td>
</tr>
<tr>
<td>Write to local disk</td>
<td>No</td>
<td>Yes (ephemeral)</td>
</tr>
<tr>
<td>3rd party binaries allowed</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>Network Access</td>
<td>Via App Eng' services</td>
<td>Y</td>
</tr>
<tr>
<td>Pricing model</td>
<td>After free daily allowance then pay per instance class.  Auto shutdown</td>
<td>Pay for resource per hour.  no auto shutdown</td>
</tr>
</tbody>
</table>
<h2 id="comparison-with-kubernetes">Comparison with Kubernetes</h2>
<table>
<thead>
<tr>
<th></th>
<th>Kubernetes</th>
<th>App Engine Flexible</th>
<th>App Engine Standard</th>
</tr>
</thead>
<tbody>
<tr>
<td>Language Support</td>
<td>Any</td>
<td>Any</td>
<td>Java, Python, PHP, GO</td>
</tr>
<tr>
<td>Service Model</td>
<td>Hybrid</td>
<td>PaaS</td>
<td>PaaS</td>
</tr>
<tr>
<td>Primary Use Case</td>
<td>Container based workloads</td>
<td>Web / Mobile apps and container based workloads</td>
<td>Web / Mobile Apps</td>
</tr>
</tbody>
</table>
<h1 id="cloud-source-repositories">Cloud Source Repositories</h1>
<ul>
<li>GIT local to Project, protected with IAM.</li>
</ul>
<h1 id="apigee-and-cloud-end-points">Apigee and Cloud End Points</h1>
<p>Two API management tools.</p>
<h2 id="cloud-endpoints">Cloud Endpoints</h2>
<ul>
<li>Control access and validate calls with JWT and Google API keys</li>
<li>Identify web, mobile users with Auth0 and Firebase Authentication.</li>
<li>Generate client libraries.</li>
</ul>
<p>Supports:</p>
<p><strong>Runtime Env</strong>: App Engine Flexible Environments, K8s, Compute Engine.</p>
<p><strong>Clients</strong>: Android, iOS, Javascript.</p>
<h2 id="apigee-edge">Apigee Edge</h2>
<p>Helps secure and monetize APIs.</p>
<p>Used for making APIs available to customers and partners.</p>
<h1 id="identity-access-management">Identity Access Management</h1>
<h2 id="overview_3">Overview</h2>
<p><strong>IAM</strong> - Who, What (<em>can they do</em>), Resource (<em>on what</em>)</p>
<div class="codehilite"><pre><span></span><code>Organisation Node
       |
    Folders
       |
    Projects
       |
   Resources
</code></pre></div>

<h2 id="projects">Projects</h2>
<ul>
<li>
<p><strong>Project Id</strong> - Globally unique immutable but can be edited during generation.</p>
</li>
<li>
<p><strong>Project Name</strong> - Mutable.</p>
</li>
<li>
<p><strong>Project Number</strong> - Globally unique - auto generated.</p>
</li>
</ul>
<h2 id="roles">Roles</h2>
<p>3 types of Role:</p>
<ul>
<li><strong>Primitive</strong> (viewer, editor, owner)</li>
<li>
<p>Affect all resources in a project.</p>
</li>
<li>
<p><strong>Predefined</strong></p>
</li>
<li>
<p><strong>Customer</strong></p>
</li>
<li>Cannot assign these at a folder level (only Project or Org').</li>
</ul>
<h2 id="service-accounts">Service Accounts</h2>
<p>Service accounts are both an identity and a resource</p>
<h1 id="stackdriver">Stackdriver</h1>
<h2 id="overview_4">Overview</h2>
<p>Monitoring Logging and diagnostics.</p>
<h2 id="6-areas">6 Areas</h2>
<h3 id="monitoring">Monitoring</h3>
<ul>
<li>Platform, system and application metrics.</li>
<li>Uptime / health checks.</li>
<li>Dashboards and alerts.</li>
</ul>
<h3 id="logging">Logging</h3>
<ul>
<li>Platform, systems and application logs.</li>
<li>Log search, view, filter and export.</li>
<li>Log-based metrics</li>
</ul>
<h3 id="trace">Trace</h3>
<ul>
<li>latency reporting and sampling.</li>
<li>Per-URL latency and statistics.</li>
</ul>
<h3 id="error-reporting">Error Reporting</h3>
<ul>
<li>Error notifications.</li>
<li>Error dashboard.</li>
</ul>
<h3 id="debugger">Debugger</h3>
<ul>
<li>Debug applications.</li>
</ul>
<h3 id="profiler">Profiler</h3>
<ul>
<li>Continuous profiling of CPU and memory consumption.</li>
</ul>
<h1 id="deployment-manager">Deployment Manager</h1>
<ul>
<li>Manage environment using a declarative rather than imperative approach.</li>
<li>YAML or Python templates.</li>
<li>Deployment Manager will then create the environments.</li>
</ul>
<h2 id="example">Example</h2>
<p>File: mydepl.yaml</p>
<div class="codehilite"><pre><span></span><code><span class="nt">resources</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-vm</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">compute.v1.instance</span>
<span class="w">  </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">    </span><span class="nt">zone</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-central1-a</span>
<span class="w">    </span><span class="nt">machineType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zones/us-central1-a/machineTypes/n1-standard-1</span>
<span class="w">    </span><span class="nt">metadata</span><span class="p">:</span>
<span class="w">      </span><span class="nt">items</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">startup-script</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;apt-get</span><span class="nv"> </span><span class="s">update;</span><span class="nv"> </span><span class="s">apt-get</span><span class="nv"> </span><span class="s">install</span><span class="nv"> </span><span class="s">nginx-light</span><span class="nv"> </span><span class="s">-y&quot;</span>
<span class="w">    </span><span class="nt">disks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">deviceName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">boot</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PERSISTENT</span>
<span class="w">      </span><span class="nt">boot</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">autoDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">initializeParams</span><span class="p">:</span>
<span class="w">        </span><span class="nt">sourceImage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://www.googleapis.com/compute/v1/projects/debian-cloud/global/images/debian-9-stretch-v20180806</span>
<span class="w">    </span><span class="nt">networkInterfaces</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">network</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-04-987e87eca026/global/networks/default</span>
<span class="w">      </span><span class="nt">accessConfigs</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">External NAT</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ONE_TO_ONE_NAT</span>
</code></pre></div>

<p><code>gcloud deployment-manager deployments create my-first-depl --config mydepl.yaml</code></p>
<p><code>gcloud deployment-manager deployments list</code></p>
<p><code>gcloud deployment-manager deployments update my-first-depl --config mydepl.yaml</code></p>
<p>To install the Monitoring and Logging agents:</p>
<div class="codehilite"><pre><span></span><code>curl<span class="w"> </span>-sSO<span class="w"> </span>https://dl.google.com/cloudagents/install-monitoring-agent.sh
sudo<span class="w"> </span>bash<span class="w"> </span>install-monitoring-agent.sh

curl<span class="w"> </span>-sSO<span class="w"> </span>https://dl.google.com/cloudagents/install-logging-agent.sh
sudo<span class="w"> </span>bash<span class="w"> </span>install-logging-agent.sh
</code></pre></div>
        </div>
      </article>
    </main>

    <footer class="footer">
      <p>
        <a href="/about_me.html" class="link">About Me</a> | 
        <a href="/help.html" class="link">Help</a>
      </p>
      <p>
        <a href="https://github.com/mjnurse" target="_blank" rel="noopener noreferrer" aria-label="GitHub" class="link footer__link">
          <i aria-hidden="true" class="fab fa-github"></i>
        </a>
        <a href="https://www.linkedin.com/in/martin-nurse" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn" class="link footer__link">
          <i aria-hidden="true" class="fab fa-linkedin"></i>
        </a>
      </p>
      <p>Last updated: December 11, 2025</p>
    </footer>

    <div class="scroll-container">
      <div class="scroll-top">
        <a aria-label="Scroll up" href="#top">
          <i aria-hidden="true" class="fas fa-arrow-up"></i>
        </a>
      </div>
    </div>

    <script src="/static/page-nav.js"></script>
    <script src="/static/script.js"></script>
    <script src="/static/search.js"></script>
  </body>
</html>